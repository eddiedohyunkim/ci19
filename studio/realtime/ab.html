<html>
	<title>a/b</title>

<body onLoad="onbodyload()">
	<div id="result"></div>
	<hr>
	<div id="colors" style = "display: flex; flex-wrap: wrap;"></div>
	<hr>
	<div id="finalcount"></div>
<script>

var random = document.getElementById("result");
var line = document.createElement("hr");

var count = 0;

var interval = setInterval(function(){
    count += 1;
	const removeElements = (elms) => elms.forEach(el => el.remove());
	removeElements( document.querySelectorAll("span") );
	update();
	onbodyload();
	if(count === 5000){
    	clearInterval(interval);
    	results();
	}
}, 1);

function update(){
	random.innerHTML = Math.floor(Math.random()*2);	
}

function onbodyload(callback){
	var zero = document.createElement("div");
	zero.innerHTML = "0"
	zero.style.backgroundColor = "red";
	// zero.style.width = "10px";
	// zero.style.height = "10px";
	zero.setAttribute("class", "a");
	if( random.innerHTML==="0"){
		document.getElementById("colors").appendChild(zero);
	}
	var one = document.createElement("div");
	one.innerHTML = "1"
	one.style.backgroundColor = "green";
	// one.style.width = "10px";
	// one.style.height = "10px";
	one.setAttribute("class", "b");
	if( random.innerHTML==="1"){
		document.getElementById("colors").appendChild(one);
	}
}

function results(){
	var final = document.getElementById("finalcount");
	var countZero = document.getElementsByClassName("a");
	var countOne = document.getElementsByClassName("b");
	final.innerHTML = "0: "+countZero.length+"<br>1: "+countOne.length;
}





//000	a
//001	b
//010	c
//011	d
//100	e
//101	f
//110	g
//111	h



</script>
</body>
</html>